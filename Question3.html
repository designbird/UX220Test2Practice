<head>
    <!-- Use jQuery to format the phone number when the form is submitted. It should be numbers only 
        despite what the user inputs. For instance +1-519-226-1234 input by the user should be changed to 
        15192261234 as the form is submitted. Add properties to the other fields so that the form can't be 
        submitted unless the fields are all filled out and the email address has an @ sign in it. -->

    <!-- Get twitter bootstrap from a content delivery network -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <h1>Contact Us:</h1>
        <!-- you don't need to actually run the server -->
        <form action="http://localhost:3002/send" method="POST">
            <div class="form-group">
                <label>Name: <input name="name" placeholder="name" class="form-control" required /></label>
            </div>
            <div class="form-group">
                <!-- Add required to make the user enter something. Add type="email" to make it have an @ symbol-->
                <label>Email:<input name="email" placeholder="email" type="email" class="form-control"
                        required /></label>
            </div>
            <!-- Added new phone field, *Note type="tel". -->
            <div class="form-group">
                <label>Phone Number:<input id="phone" name="phone" placeholder="telephone" type="tel" class="form-control"
                        required /></label>
            </div>
            <div class="form-group">
                <label>Message:<textarea name="message" placeholder="type your message here" class="form-control"
                        required></textarea></label>
            </div>
            <button type="submit">Send Message</button>

        </form>
    </div>
    <!-- get jQuery from a content delivery network -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- get twitter bootstrap javascript from a content delivery network -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>

        document.addEventListener('DOMContentLoaded', () => {
            // set this up to trigger when the form has been submitted
            $("form").submit(()=>{
                // the form has been submitted so find the input with the id "phone"
                oPhone = $("input#phone");
                // replace the value with the old value with the strings removed
                // the spaces are removed using a regular expression `\s` which was a bit beyond what I was
                // expecting. The regular expression also removes minus, plus and parentheses.
                oPhone.val(oPhone.val().replaceAll(/[\s\-\+()]/g, ""));
                // alert for debugging purpose 
                alert(`The phone number is ${oPhone.val()}.`);
            })
        });

    </script>
</body>